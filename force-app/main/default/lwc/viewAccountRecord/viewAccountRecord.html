<template>
    <div class="component-background">
        <template if:true={record}>
            <div class="card-container">
                
                <div class="title-slot">
                    <!-- Show a header with the icon, object api name, and record name -->
                    <lightning-layout vertical-align="center">
                        <lightning-layout-item class="slds-var-p-around_small">
                            <lightning-icon icon-name={cardIconName} size="medium" data-id="iconId" data-name={cardIconName}></lightning-icon>
                        </lightning-layout-item>
                    
                        <lightning-layout-item>
                            <lightning-layout multiple-rows>
                                <lightning-layout-item size=12 class="record-name" data-id="nameId">
                                    <p style="word-break: break-all;">{name}</p>
                                </lightning-layout-item>
                                <lightning-layout-item size=12 class="object-name" data-id="objectApiNameId">
                                    <p style="word-break: break-all;">{objectApiName}</p>
                                </lightning-layout-item>
                            </lightning-layout>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>

                <div class="body-slot">
                    <!-- use lightning-record-form to show the selected fields. here, we use 'view' as the mode which allows edits too -->
                    <lightning-record-form record-id={recordId} object-api-name={objectApiName} fields={fields}
                        columns="1" mode="readonly">
                    </lightning-record-form>
                </div>

                <!-- show any draft information for this record -->
                <template if:true={draftDetails} >
                    <lightning-accordion allow-multiple-sections-open="true">
                        <lightning-accordion-section name="draftEdits" label="Draft - Original Values">
                            <ul class="slds-list_dotted">
                                <template for:each={draftDetails} for:item="draftItem">
                                    <li key={draftItem.fieldName}>
                                        {draftItem.fieldName}={draftItem.value}
                                    </li>
                                </template>
                            </ul>
                        </lightning-accordion-section>
                    </lightning-accordion>
                </template>
            </div>
        </template>

        <c-account-related-contacts record-id={recordId}></c-account-related-contacts>

        <lightning-layout horizontal-align="spread">
            <lightning-layout-item padding="around-small">
                <lightning-button variant="base" label="Toast example" type="button" onclick={exampleToast} class="slds-var-m-left_x-small"></lightning-button>
                <lightning-button variant="base" label="Create custom record" type="button" onclick={createCustom} class="slds-var-m-left_x-small"></lightning-button>
            </lightning-layout-item>
        </lightning-layout>
        <div class="slds-var-m-top_medium slds-var-m-bottom_x-large">
            <h2 class="slds-text-heading_small">
                lightning-formatted-url
            </h2>
            <div class="slds-var-p-around_medium">
                <p><lightning-formatted-url value="https://dro000000afsb2a0.test1.lightning.pc-rnd.force.com/lightning/r/Account/001RO000003zdy5YAA/view" label="Acme Account formatted-url" target="_blank"></lightning-formatted-url></p>
                <p><lightning-formatted-url value="https://salesforce.com" label="salesforce.com formatted-url" target="_blank" ></lightning-formatted-url></p>
            </div>
            <h2 class="slds-text-heading_small">
                Bare &lt;a&gt;
            </h2>
            <div class="slds-var-p-around_medium">
                <p><a href="https://dro000000afsb2a0.test1.lightning.pc-rnd.force.com/lightning/r/Account/001RO000003zdy5YAA/view">Acme Account bare link</a></p>
                <p><a href="https://salesforce.com">salesforce.com bare link</a></p>
            </div>
        </div>
    </div>
</template>
